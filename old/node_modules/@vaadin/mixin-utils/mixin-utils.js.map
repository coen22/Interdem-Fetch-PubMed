{"version":3,"file":"mixin-utils.js","sourceRoot":"","sources":["mixin-utils.ts"],"names":[],"mappings":"AAKA,MAAM,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;AAEpC,SAAS,iBAAiB,CAAI,GAAM;IAClC,MAAM,KAAK,GAAG,EAAE,CAAC;IACjB,IAAI,KAAK,GAAG,GAAG,CAAC;IAChB,OAAO,KAAK,EAAE;QACZ,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClB,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;KACtC;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAED,MAAM,UAAU,UAAU,CAAC,KAAkB,EAAE,UAAoC;IACjF,MAAM,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACzC,OAAO,OAAO;QACZ,CAAC,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC,MAAM,CAClC,CAAC,GAAY,EAAE,KAAK,EAAE,EAAE,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAClD,KAAK,CACN;QACH,CAAC,CAAC,KAAK,CAAC;AACZ,CAAC;AAED,MAAM,UAAU,UAAU,CAAC,KAAkB,EAAE,UAAoC;IACjF,IAAI,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACvC,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QACxB,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;KACnC;IACD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1B,CAAC","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nexport type Constructor<T = object> = new (...args: any[]) => T;\n\nexport type AnyFunction<T = any> = (...args: any[]) => T;\n\nconst appliedMixins = new WeakMap();\n\nfunction getPrototypeChain<T>(obj: T) {\n  const chain = [];\n  let proto = obj;\n  while (proto) {\n    chain.push(proto);\n    proto = Object.getPrototypeOf(proto);\n  }\n  return chain;\n}\n\nexport function wasApplied(mixin: AnyFunction, superClass: Constructor<HTMLElement>): boolean {\n  const entries = appliedMixins.get(mixin);\n  return entries\n    ? getPrototypeChain(superClass).reduce(\n        (res: boolean, klass) => res || entries.has(klass),\n        false\n      )\n    : false;\n}\n\nexport function applyMixin(mixin: AnyFunction, superClass: Constructor<HTMLElement>): void {\n  let entries = appliedMixins.get(mixin);\n  if (!entries) {\n    entries = new WeakSet();\n    appliedMixins.set(mixin, entries);\n  }\n  entries.add(superClass);\n}\n"]}